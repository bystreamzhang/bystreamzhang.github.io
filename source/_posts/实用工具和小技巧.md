---
title: 实用工具和小技巧
date: 2025-02-24 11:48:14
tags:
    - SpaceSniffer
    - Markdown
    - VSCode
    - Tools
    - SSH
categories: Study
---

# 说明

记录一些自己觉得好用的工具和小技巧。

## 工具

### 论文管理+pdf阅读翻译

[文献管理工具 Zotero](https://lolitasian.blog.csdn.net/article/details/124133119)这个工具非常厉害。我最喜欢的就是里面的翻译插件（），非常好用。直接从网页保存到软件也很不错。同步功能也很不错。
好用插件：

- PDF Translate：翻译插件，下载即用，也支持api
- zotero-better-notes: 笔记工具，感觉很不错。其中可以导入markdown文件作为笔记，我感觉可以取代typora。
- Zotero Style

官方文档有更多插件。可以看看这个：[zotero-better-plugin](https://github.com/jackhanyuan/zotero-better-plugin)

Zotero里面不仅可以管理论文，也可以管理各种文献，包括自己的笔记（配合笔记插件非常舒服）。加入Zotero的文件不保存在本地而是保存在云端。免费可使用的大小是300M，多了要付费[Zotero Storage](https://www.zotero.org/settings/storage?ref=usb)，不过300M一般用不完，因为基本都是文本。
因为是云端，所以浏览器访问官网也可以看到自己的各种文献。

关于导入markdown作为笔记，在浏览器可以安装[markdownload](https://github.com/deathau/markdownload/releases)扩展获取网页markdown(edge插件商店似乎没有)。

### 电脑磁盘爆满想分析原因

[磁盘分析工具 SpaceSniffer](https://sourceforge.net/projects/spacesniffer/): 非常好用，直观显示磁盘内容。最好以管理员模式启动。

### VSCode实用插件

1. GitLens: git管理
2. draw.io: 画图
3. Markdown All in One: markdown插件
4. hex editor: 可以直观浏览二进制文件
5. Copilot: 不知道什么时候有的, 但是越来越觉得厉害. 配置后写代码时会有非常智能的代码续写, 按TAB即可补全. 写中文文本也会有续写.
6. LaTeX Workshop: 本地需要tex环境比如`texlive`. 整个配置流程可参考[零障碍上手！LaTeX + VSCode高效科研写作：超详细安装配置指南](https://blog.csdn.net/LiLiu_YiYu/article/details/146066653)

## 小技巧

### markdown相关

[实现标题添加序号](https://blog.csdn.net/quaer/article/details/140768850)

### word相关

#### 多word合并

word里面的"布局->分隔符"有一个"分节符"的概念, 不同的节是可以有不同的页眉页脚的, 分节之后选择页眉页脚可以选择不继承上一个节, 这之后当前节的页眉页脚就和之前的节完全无关, 页码可以选择继承(在"页面"中选择"继前节"即可)也可以独立计数.

分节之后在"插入->对象->文件中的文字"可以插入其他word的内容.

### SSH使用相关

vscode ssh连接虚拟机：[【ssh】vscode 远程连接（本地虚拟机） Linux 服务器_linux vscode本地脚本环境服务器链接-CSDN博客](https://blog.csdn.net/qq_29856169/article/details/115489702)

流程不复杂，就是本机和虚拟机都要做一些配置。按教程配置一遍以后，再次连接就不需要配置，点击就可以连接，前提是虚拟机已经开启。

ssh连接以后相当于本机vscode可以控制虚拟机，操作就会顺畅很多，就可以方便地多开窗口。

注：vm虚拟机的网络问题，很多时候在编辑->虚拟网络编辑器使用"还原默认设置"即可。虚拟机的ip地址也会因此改变，就需要改变本机vscode的config文件。

## 用vscode远程连接femu_qemu

做femu的时候，希望vscode不仅能连接服务器还能连接服务器的qemu虚拟机，因为用终端操控qemu虚拟机太变态了。
刚好可以参考这个：
[ubuntu宿主机ssh远程连接qemu虚拟机以及如何用vscode远程连接femu_qemu ssh-CSDN博客](https://blog.csdn.net/bijie1196/article/details/130761190)
之后vscode内各种插件随便装上去，本机文件直接拖拽到文件夹栏就完成传输，非常方便。
如果有跳板机，则虚拟机的ssh配置文件还要加一句`ProxyJump fpga01`，这里的fpga1是虚拟机所在的主机名称。整个三个机子配置示例如下：
```
Host jump
    Hostname 222.20.98.67
    Port 5088
    User zhangnabaichuan
    IdentityFile ~/.ssh/id_ed25519
Host fpga01
    Hostname 192.168.35.1
    Port 5061
    User zhangnabaichuan
    ProxyJump jump
    IdentityFile ~/.ssh/id_ed25519
Host femu
    HostName 192.168.35.1
    Port 9090
    User zwl
    ProxyJump fpga01
```

注：上面的`IdentityFile`是验证文件，找相关人员要，包含公钥私钥（有一个应该要自己生成，我忘了，自行咨询）。在一台主机可以连接后，其验证文件拷贝到另一台主机后仍然可以使用，不需要重新生成新的验证文件。

注意，我们实验室的服务器需要用校园网连接到跳板机。如果在校外需要申请vpn。负责收集申请表的是dyq师兄，如果急用就可以直接联系tw老师。

## Windows下malloc一大段空间时报错空间不足

本机内存是够的，代码也没什么问题，malloc的内存大概是500MB左右。

通过反复咨询ai，我发现一个解决方案：在Windows安全中心->应用和浏览器控制->攻击防护设置->随机化内存分配(自下而上ASLR)，将其改为“默认关闭”，
然后重启电脑，问题就解决了。

根据分析，原因是进程启用ASLR时，模块会随机选择机制提升安全性；这导致各种模块让用户态地址空间被大量离散区域占据，找不到一大块的连续空间。

强制ASLR就会让所有进程启用ASLR。

总之就是，开启了会影响大块内存分配。关闭了会降低安全性。对于机房电脑，关了也无所谓吧。

## docker build 网络问题

参考：[2025最新：彻底解决Docker拉取镜像超时问题 - CSDN博客](https://blog.csdn.net/haohaizi_liu/article/details/151582431), 用里面的方案1就行，改daemon.json.

## vscode远程操控docker镜像

我的场景是：本机 VS Code 先通过 Remote-SSH 连接到实验室服务器 fpga01，然后在该服务器上用 docker run 启动了容器。希望在本机再开一个 VS Code 窗口，直接“进入”这个容器进行开发。

方式：在“已通过SSH连上的远端VS Code”里 Attach 到容器（推荐）
前提：你已经用 VS Code Remote-SSH 连接到了 fpga01。
步骤：

在连接到 fpga01 的 VS Code 窗口里安装扩展：

Dev Containers（ms-vscode-remote.remote-containers）

可选：Docker 扩展（便于查看容器列表）

打开命令面板（Ctrl+Shift+P），选择：
Dev Containers: Attach to Running Container...

选择你在 fpga01 上正在运行的那个容器（名字或ID）。

VS Code 会在 fpga01 上将当前窗口“附加到容器”，你将获得：

容器内文件浏览器、终端、调试等完整体验

扩展会在容器内安装对应的 VS Code Server

若要在“另一个窗口”打开：在命令面板里选择 “Attach to Running Container in New Window”。

